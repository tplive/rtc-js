<!DOCTYPE html>
<html>
<body>
<script>
window.onerror = function(errorMsg, url, lineNumber){
    // any action you want goes here
    // errorMsg is the error message itself.
    // url should be the file presenting the error, though i have
    //    found that it only presents to me the address of the site.
    // lineNumber is the line number the error occoured on.
    // here is an example of what you could do with it:
    const error = document.getElementById("error")
    error.innerHTML = "Error in " + url + " at " + lineNumber + ":\n" + errorMsg
}
</script>

<h1>Test Runner</h1>

<h2>Projectile simulator</h2>
<ul id="test_list"></ul>
<p id="error"></ul>

<script src="js/functions.js"></script>

<script>
// *** RUN PROJECTILE SIMULATION

// A projectile has a position (point) and a velocity (vector).
// An environment has gravity (vector) and wind (vector).
// A tick represents a unit of time. Each tick yields a new projectile with new position and velocity, based on environment.

var ticks = 10
var env = {gravity: vector(0, -0.1, 0), wind: vector(-0.01, 0, 0)}
display_msg("test_list", `Gravity: ${display_tuple(env.gravity)}, Wind: ${display_tuple(env.wind)}`)

var proj = {position: point(0, 1, 0), velocity: vector(1, 1, 0)}
display_msg("test_list", `Projectile start position: ${display_tuple(proj.position)}, Start velocity: ${display_tuple(proj.velocity)}`)

// Loop
while (ticks>=1) {
  ticks--

  proj = {position: add_tuples(proj.position, proj.velocity), velocity: add_tuples(add_tuples(proj.velocity, env.gravity), env.wind)}
  display_msg("test_list", display_tuple(proj.position))
}




</script>

</body>

</html>